---
title: "HTTP 버전별 차이점과 QUIC 프로토콜 정리"
description: "HTTP 1.2.3 버전 차이점에 대해 자세히 살펴보겠습니다."
date: 2023-05-20
published: true
thumbnail: t_http-1-2-3.jpg
---

## TCP 와 UDP 프로토콜

HTTP 버전 차이를 알아보기전에 TCP 와 UDP 프로토콜에 대해 알아보겠습니다.

TCP(Transmission Control Protocol)와 UDP(User Datagram Protocol)는 인터넷에서 데이터를 전송하는 두 가지 주요 프로토콜입니다.
이 두 프로토콜은 각각 다른 특성과 용도를 가지고 있어 상황에 따라 적절히 선택하여 사용됩니다.

### TCP (Transmission Control Protocol)

1. 기본 특성
- 연결 지향적(Connection-oriented): 데이터 전송 전에 연결을 설정하고, 전송 후 연결을 종료
- 신뢰성 보장: 데이터가 순서대로, 오류 없이, 손실 없이 전달됨을 보장
- 흐름 제어: 수신자의 처리 능력에 맞게 데이터 전송 속도 조절
- 혼잡 제어: 네트워크 상황에 따라 데이터 전송 속도 조절

2. 작동 방식
- 3-way 핸드셰이크: 연결 설정 시 SYN, SYN-ACK, ACK 메시지 교환
- 순차적 전송: 각 패킷에 순서 번호 부여
- 확인 응답(ACK): 수신자가 데이터 수신 확인 메시지 전송
- 재전송: 일정 시간 내 ACK가 오지 않으면 패킷 재전송
- 4-way 핸드셰이크: 연결 종료 시 FIN, ACK 메시지 교환

3. 장점
- 데이터 전송의 신뢰성 보장
- 순서 보장으로 데이터 무결성 유지
- 네트워크 혼잡 상황에 적응적

4. 단점
- 연결 설정/종료에 오버헤드 발생
- 헤더 크기가 큼 (20-60 바이트)
- 지연 시간이 UDP보다 김
- HOL(Head-of-Line) 블로킹 문제 발생

5. 주요 사용 사례
- 웹 브라우징 (HTTP/1.1, HTTP/2)
- 이메일 (SMTP, IMAP, POP3)
- 파일 전송 (FTP, SFTP)
- 원격 접속 (SSH, Telnet)
- 데이터베이스 연결

---

### UDP (User Datagram Protocol)

1. 기본 특성
- 비연결형(Connectionless): 연결 설정 없이 바로 데이터 전송
- 비신뢰성: 데이터 전달, 순서, 중복 방지를 보장하지 않음
- 단순한 구조: 최소한의 헤더와 기능만 포함
- 빠른 전송: 오버헤드가 적어 TCP보다 빠름

2. 작동 방식
- 연결 설정 없음: 핸드셰이크 과정 없이 바로 데이터 전송
- 비순차적 전송: 패킷 순서 보장 없음
- 확인 응답 없음: 수신 확인 메커니즘 없음
- 재전송 없음: 패킷 손실 시 기본적으로 재전송하지 않음

3. 장점
- 낮은 지연 시간
- 적은 오버헤드 (헤더 크기 8 바이트)
- 연결 상태 유지 불필요
- 멀티캐스트, 브로드캐스트에 적합
- HOL 블로킹 없음

4. 단점
- 데이터 전송 신뢰성 없음
- 패킷 손실, 중복, 순서 변경 가능성
- 혼잡 제어 메커니즘 없음
- 대규모 데이터 전송에 부적합

5. 주요 사용 사례
- 실시간 스트리밍 (비디오, 오디오)
- 온라인 게임
- VoIP (Voice over IP)
- DNS 쿼리
- QUIC 프로토콜 (HTTP/3의 기반)
- IoT 장치 통신

---

### TCP와 UDP 비교

| 특성 | TCP | UDP |
|------|-----|-----|
| 연결 방식 | 연결 지향적 | 비연결형 |
| 신뢰성 | 높음 (보장) | 낮음 (비보장) |
| 순서 보장 | 있음 | 없음 |
| 속도 | 상대적으로 느림 | 빠름 |
| 헤더 크기 | 20-60 바이트 | 8 바이트 |
| 혼잡 제어 | 있음 | 없음 |
| 재전송 | 있음 | 없음 |
| 사용 사례 | 신뢰성 중요 애플리케이션 | 속도 중요 실시간 애플리케이션 |

---

## HTTP 버전별 차이점과 QUIC 프로토콜
HTTP(Hypertext Transfer Protocol)는 웹의 기반이 되는 프로토콜로,
웹 브라우저와 서버 간의 데이터 교환을 위한 규칙을 정의합니다. 버전이 발전함에 따라 성능, 보안, 기능성이 크게 향상되었습니다.
각 버전의 특징과 발전 과정을 정리했습니다.

## HTTP/0.9 - 초기 단순 프로토콜

1. 특징
- 단일 라인 프로토콜로 매우 단순한 구조
- GET 메소드만 지원
- HTML 파일만 전송 가능
- 연결당 하나의 요청만 처리 가능
- 상태 코드, 헤더, 콘텐츠 타입 개념 없음

2. 한계점
- 다양한 콘텐츠 타입 지원 불가
- 메타데이터 전송 불가
- 오류 처리 메커니즘 부재

3. 예시 요청
```js
GET /index.html
```

---

## HTTP/1.0 - 기본 기능 확장

1. 특징
- 버전 정보, 상태 코드, 헤더 도입
- GET 외에 POST, HEAD 메소드 추가
- Content-Type 헤더로 다양한 파일 형식 지원
- 상태 코드로 응답 상태 표시 (200, 404 등)
- 캐싱 메커니즘 도입

2. 한계점
- 비효율적 요청마다 새로운 TCP 연결 필요
- Keep-Alive 헤더가 있었지만 표준이 아님
- 성능 병목 현상 발생

3. 예시 요청
```js
  GET /index.html HTTP/1.0
  User-Agent: NCSA_Mosaic/2.0
  Accept: text/html
```

---

## HTTP/1.1 - 표준화와 성능 개선

1. 특징
- 영구 연결(Persistent Connection) 기본 지원
- 파이프라이닝(Pipelining) 도입으로 요청 병렬 처리 가능
- 호스트 헤더 필수화로 가상 호스팅 지원
- 청크 전송 인코딩으로 스트리밍 지원
- 추가 메소드: PUT, DELETE, OPTIONS, TRACE
- 콘텐츠 협상(Content Negotiation) 지원

2. 한계점
- HOL(Head-of-Line) 블로킹 문제: 하나의 요청이 지연되면 뒤의 모든 요청도 지연
- 요청 우선순위 지정 불가
- 헤더 압축 없어 오버헤드 발생
- 여전히 하나의 TCP 연결에서 순차적 처리


3. 예시 요청
```js
  GET /index.html HTTP/1.1
  Host: www.example.com
  User-Agent: Mozilla/5.0
  Accept: text/html,application/xhtml+xml
```


---

## HTTP/2 - 멀티플렉싱과 최적화
1. 특징

- 바이너리 프로토콜로 변경 (텍스트 기반에서 이진 형식으로
- 멀티플렉싱: 하나의 TCP 연결에서 여러 요청/응답 동시 처리
- 스트림 우선순위 지정 가능
- 헤더 압축(HPACK)으로 오버헤드 감소
- 서버 푸시 기능: 클라이언트 요청 전에 필요한 리소스 미리 전송
- 흐름 제어 메커니즘 개선

2. 장점
- 페이지 로드 시간 대폭 감소 (평균 15-50%)
- 네트워크 리소스 효율적 사용
- 모바일 환경에서 특히 효과적

3. 한계점
- TCP의 HOL 블로킹 문제는 여전히 존재
- 패킷 손실 시 모든 스트림이 영향받음
- TLS 필수는 아니지만 대부분의 브라우저에서 TLS 요구


---

## HTTP/3 - QUIC 기반

1. 특징
- TCP 대신 QUIC(UDP 기반) 프로토콜 사용
- 연결 설정 시간 단축 (0-RTT 또는 1-RTT)
- 스트림 레벨의 HOL 블로킹 문제 해결
- 연결 마이그레이션 지원 (IP 주소 변경 시에도 연결 유지)
- TLS 1.3 통합으로 보안 강화
- 패킷 손실 감지 및 복구 메커니즘 개선

2. 장점
- 주요 브라우저(Chrome, Firefox, Safari)에서 지원
- 모바일 네트워크에서 특히 효과적
- 네트워크 전환 시에도 연결 유지
- 초기 연결 설정 시간 단축
- Cloudflare, Google, Facebook 등 대형 서비스에서 채택

--- 



HTTP/2와 HTTP/3는 모바일 환경의 특수한 제약과 도전 과제를 해결하도록 설계되어 모바일 사용자 경험을 크게 개선합니다.
이 두 프로토콜이 모바일 환경에서 특히 효과적인 이유를 자세히 살펴보겠습니다.

1. 단일 연결을 통한 멀티플렉싱
- 모바일 문제점: 모바일 네트워크는 연결 설정 시 높은 지연 시간(latency)을 가짐
- HTTP/2 해결책: 하나의 TCP 연결로 여러 요청을 동시에 처리
- 모바일 혜택
  - 연결 설정 오버헤드 감소
  - 배터리 소모 감소 (연결 설정/해제 과정이 배터리를 많이 소모)
  - 데이터 요금제에서 더 효율적인 데이터 사용

2. 헤더 압축 (HPACK)
- 모바일 문제점: 제한된 대역폭과 데이터 요금제
- HTTP/2 해결책: 헤더 압축으로 중복 헤더 정보 제거
- 모바일 혜택:
  - 데이터 사용량 감소 (평균 30-50% 헤더 크기 감소)
  - 특히 쿠키가 큰 요청에서 효과적
  - 저속 네트워크에서 페이지 로드 시간 단축

3. 서버 푸시
- 모바일 문제점: 높은 왕복 지연 시간으로 리소스 요청 지연
- HTTP/2 해결책: 서버가 클라이언트 요청 전에 필요한 리소스를 미리 전송
- 모바일 혜택:
  - 페이지 로드 시간 단축
  - 불필요한 요청-응답 사이클 제거
  - 특히 모바일 앱의 API 호출에서 효과적

4. 스트림 우선순위 지정
- 모바일 문제점: 제한된 처리 능력과 화면 렌더링 최적화 필요
- HTTP/2 해결책: 중요한 리소스(CSS, 주요 이미지 등)에 우선순위 부여
- 모바일 혜택:
  - 사용자가 중요한 콘텐츠를 먼저 볼 수 있음
  - 제한된 CPU/메모리 리소스의 효율적 사용
  - 더 빠른 시각적 완성도 제공

---


1. 네트워크 전환에 강인함 (연결 마이그레이션)
- 모바일 문제점: Wi-Fi에서 셀룰러로 전환 시 연결 끊김
HTTP/3 해결책: 연결 ID를 사용하여 IP 주소가 변경되어도 연결 유지
모바일 혜택:
네트워크 전환 시 원활한 사용자 경험
다운로드/업로드 중단 없음
로그인 세션 유지
2. 패킷 손실에 대한 향상된 복원력
모바일 문제점: 셀룰러 네트워크는 패킷 손실률이 높음 (특히 이동 중)
HTTP/3 해결책: 독립적인 스트림 처리로 한 스트림의 패킷 손실이 다른 스트림에 영향 없음
모바일 혜택:
불안정한 네트워크에서도 안정적인 성능
부분적 패킷 손실 시에도 다른 리소스 로딩 계속 진행
재전송 지연 감소
3. 빠른 연결 설정 (0-RTT)
모바일 문제점: 높은 지연 시간으로 연결 설정에 시간 소요
HTTP/3 해결책: 이전에 방문한 서버에 추가 왕복 없이 즉시 데이터 전송 가능
모바일 혜택:
앱 시작 및 웹사이트 로딩 시간 단축
간헐적 연결에서 빠른 재연결
배터리 소모 감소
4. 저지연 환경 최적화
모바일 문제점: 변동이 심한 지연 시간과 대역폭
HTTP/3 해결책: UDP 기반으로 TCP의 혼잡 제어 알고리즘 제한 없이 최적화
모바일 혜택:
변동이 심한 네트워크 조건에서 더 나은 적응성
더 정확한 RTT 측정으로 효율적인 데이터 전송
  - 특히 고지연 환경(예: 3G 네트워크)에서 성능 향상
  - 실제 모바일 성능 개선 사례
    - HTTP/2 도입 효과
Google: 모바일 검색 페이지 로드 시간 30% 감소
Twitter: 모바일 웹에서 타임라인 로딩 시간 35% 감소
Facebook: 모바일 앱 API 응답 시간 20% 개선
HTTP/3 도입 효과
Cloudflare: 모바일 기기에서 페이지 로드 시간 최대 30% 개선, 특히 불안정한 네트워크에서 효과적
Facebook: 모바일 앱에서 비디오 로딩 실패율 15% 감소, 재버퍼링 8% 감소
Google: YouTube 모바일 앱에서 재생 시작 시간 9% 단축, 재버퍼링 18% 감소


## HTTP 버전별 

| 특징 | HTTP/0.9 | HTTP/1.0 | HTTP/1.1 | HTTP/2 | HTTP/3 |
|------|---------|----------|----------|--------|--------|
| 전송 프로토콜 | TCP | TCP | TCP | TCP | QUIC(UDP) |
| 연결 방식 | 일회성 | 일회성 | 지속 연결 | 멀티플렉싱 | 멀티플렉싱 |
| 헤더 압축 | 없음 | 없음 | 없음 | HPACK | QPACK |
| 서버 푸시 | 없음 | 없음 | 없음 | 지원 | 지원 |
| HOL 블로킹 | 심각 | 심각 | 중간 | 연결 수준 | 해결 |
| 보안 | 없음 | 선택적 | 선택적 | 권장 | 필수(TLS 1.3) |
| 스트림 우선순위 | 없음 | 없음 | 없음 | 지원 | 간소화된 지원 |